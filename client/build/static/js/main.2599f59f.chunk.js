(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,a,t){},104:function(e,a,t){},105:function(e,a,t){},106:function(e,a,t){},107:function(e,a,t){},108:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(10),c=t.n(r),s=(t(73),t(17)),i=t(8),o=t(19),m=t.n(o),u=t(24),d=t(9),p=Object(n.createContext)({}),v=function(e){var a=Object(n.useState)(null),t=Object(d.a)(a,2),r=t[0],c=t[1];return l.a.createElement(p.Provider,Object.assign({value:{user:r,setUser:c}},e))},f=t(40);var E=Object(i.f)(function(e){var a=e.history,t=Object(n.useState)(),r=Object(d.a)(t,2),c=r[0],i=r[1],o=Object(n.useState)(),v=Object(d.a)(o,2),E=v[0],g=v[1],h=Object(n.useContext)(p).setUser;function b(e,a){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(m.a.mark(function e(a,t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.post("/api/login",{email:a,password:t}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(){return(w=Object(u.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),c&&E){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,b(c,E);case 6:n=e.sent,h(n.data),a.push("/"),e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(0),401!==e.t0.status){e.next=15;break}return e.abrupt("return","Incorrect user name or password!");case 15:console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card-panel login-panel"},l.a.createElement("form",{className:"login"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12 "},l.a.createElement("h5",{className:"center-left ltc-heading"},"Sign in"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12 "},l.a.createElement("input",{id:c,type:"text",className:"validate",onChange:function(e){return i(e.target.value)}}),l.a.createElement("label",{htmlFor:"name-input"},"Email"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12 "},l.a.createElement("input",{id:E,type:"password",className:"validate",onChange:function(e){return g(e.target.value)}}),l.a.createElement("label",{htmlFor:"password-input"},"Password"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12 center-align"},l.a.createElement("button",{className:"btn waves-effect waves-light rounded",type:"submit",onClick:function(e){return w.apply(this,arguments)}},"Login"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12 center-align"},l.a.createElement(s.b,{to:"/signup"},"Don't have an account? Sign up"))))))}),g=t(35),h=t(56),b=t(40);var N=Object(i.f)(function(e){var a=e.history,t=Object(n.useContext)(p).setUser,r=Object(n.useState)({}),c=Object(d.a)(r,2),s=c[0],i=c[1],o=function(e){var a=e.target,t=a.name,n=a.value;return i(Object(h.a)({},s,Object(g.a)({},t,n)))};function v(){return(v=Object(u.a)(m.a.mark(function e(n){var l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("sucess"),e.prev=2,s.password===s.confirmPassword){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,b.post("/api/signup",{email:s.email,password:s.password,fullName:s.fullName});case 7:l=e.sent,console.log(l.data),t({dataValues:l.data}),a.push("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[2,13]])}))).apply(this,arguments)}return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card-panel login-panel"},l.a.createElement("form",{className:"signup"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12 "},l.a.createElement("h5",{className:"center-left ltc-heading"},"Create User Account"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12 "},l.a.createElement("input",{value:s.fullName||"",type:"text",name:"fullName",className:"validate",onChange:o}),l.a.createElement("label",{htmlFor:"full-name-input"},"Full Name"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12 "},l.a.createElement("input",{value:s.email||"",type:"text",name:"email",className:"validate",onChange:o}),l.a.createElement("label",{htmlFor:"name-input"},"Email"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12 "},l.a.createElement("input",{value:s.password||"",type:"password",name:"password",className:"validate",onChange:o}),l.a.createElement("label",{htmlFor:"password-input"},"Password"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12 "},l.a.createElement("input",{value:s.confirmPassword||"",type:"password",name:"confirmPassword",className:"validate",onChange:o}),l.a.createElement("label",{htmlFor:"password-confirm-input"},"Confirm Password"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12 center-align"},l.a.createElement("button",{className:"btn waves-effect waves-light rounded",type:"submit",onClick:function(e){return v.apply(this,arguments)}},"Sign in")," ")))))}),w=t(63),j=t(139),O=t(140),x=t(138),y=t(57),C=t.n(y);t(96);var k=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content s12 center-align"},l.a.createElement("img",{src:C.a,alt:"user avatar",className:"circle responsive-img avatar-img"}),l.a.createElement("br",null),l.a.createElement("div",{className:"title"},e.fullname))))},S=t(58),$=t(31),F=t(43);$.b.add(F.a);var U=function(){return l.a.createElement(S.a,{icon:F.a})};t(103);var P=function(e){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 m8 l9 wholecard"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title"},e.name),l.a.createElement("hr",null),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",null,"Must Try: "),e.mustHave),l.a.createElement("li",null,l.a.createElement("span",null,"Location: "),e.location),l.a.createElement("li",null,l.a.createElement("span",null,"Price: "),e.price))),l.a.createElement("div",{className:"card-action amber darken-2"},l.a.createElement(U,{value:e.averageRating})))))};t(104);var R=function(){return l.a.createElement("p",null,l.a.createElement("span",null," \u201cOne cannot think well, love well, sleep well,"),l.a.createElement("span",null,"if one has not dined well.\u201d"),l.a.createElement("br",null),l.a.createElement("span",null,"- Virginia Woolf"))},D=t(40);var I=function(){var e=Object(n.useContext)(p).user,a=Object(n.useState)([]),t=Object(d.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)(),i=Object(d.a)(s,2),o=i[0],v=i[1],f=Object(n.useState)(),E=Object(d.a)(f,2),g=E[0],h=E[1],b=Object(n.useState)(),N=Object(d.a)(b,2),y=N[0],C=N[1],S=Object(n.useState)(),$=Object(d.a)(S,2),F=$[0],U=$[1],I=Object(n.useState)([]),L=Object(d.a)(I,2),A=L[0],H=L[1],V=Object(n.useState)([]),W=Object(d.a)(V,2),T=W[0],_=W[1];function B(){return(B=Object(u.a)(m.a.mark(function a(t){var n,l;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),console.log("effect"),a.prev=2,a.next=5,D.post("/api/restaurant/",{name:o,mustHave:g,location:y,price:F,CuisineId:T,UserId:e.dataValues.id});case 5:n=a.sent,l=n.data,c([l].concat(Object(w.a)(r))),console.log({data:l}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),console.log(a.t0);case 14:case"end":return a.stop()}},a,null,[[2,11]])}))).apply(this,arguments)}return Object(n.useEffect)(function(){fetch("/api/restaurant/").then(function(e){return e.json()}).then(function(e){c(e)})},[]),Object(n.useEffect)(function(){fetch("/api/restaurant/category").then(function(e){return e.json()}).then(function(e){H(e)})},[]),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row s12"},l.a.createElement("div",{className:"col s12 m6 l4 center-align"},l.a.createElement("div",{className:"blue-grey-text left-align hidden user-profile-image"},l.a.createElement(k,{width:"25",height:"25",fullname:e.dataValues.fullName}))),l.a.createElement("div",{className:"col s8 center-align"},l.a.createElement(R,null))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12"},l.a.createElement("h5",{className:"user-profile-title"},"My Favourites"),l.a.createElement("div",null,l.a.createElement("form",{className:"col s12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",{id:o,type:"text",className:"validate",onChange:function(e){return v(e.target.value)}}),l.a.createElement("label",{htmlFor:"first_name"},"Restaurant Name")),l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",{id:g,type:"text",className:"validate",onChange:function(e){return h(e.target.value)}}),l.a.createElement("label",{htmlFor:"first_name"},"Must Try"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s6 m4 l4"},l.a.createElement("input",{id:y,type:"text",className:"validate",onChange:function(e){return C(e.target.value)}}),l.a.createElement("label",{htmlFor:"first_name"},"Location "),l.a.createElement("span",{className:"helper-text","data-error":"wrong","data-success":"right"},"CBD/Russell St")),l.a.createElement("div",{className:"input-field col s6 m4 l4"},l.a.createElement("input",{id:F,type:"text",className:"validate",onChange:function(e){return U(e.target.value)}}),l.a.createElement("label",{htmlFor:"first_name"},"Price"),l.a.createElement("span",{className:"helper-text","data-error":"wrong","data-success":"right"}," ","$ / $$ / $$$ / $$$$ / $$$$$"," ")),l.a.createElement(j.a,{variant:"outlined"},l.a.createElement(O.a,{htmlFor:"outlined-age-native-simple"},"Cuisine"),l.a.createElement(x.a,{native:!0,label:"Cuisine",inputProps:{name:"cuisine",id:"outlined-age-native-simple"},onChange:function(e){_(e.target.value)}},l.a.createElement("option",{"aria-label":"None",value:""}),A.map(function(e){return l.a.createElement("option",{value:e.id},e.name)}))),l.a.createElement("br",null)),l.a.createElement("button",{className:"btn waves-effect waves-light rounded",type:"submit",onClick:function(e){return B.apply(this,arguments)}},"ADD A RESTAURANT")))),l.a.createElement("div",{style:{height:20}}),l.a.createElement("div",{className:"row"},r.filter(function(a){return a.UserId===e.dataValues.id}).map(function(e){return l.a.createElement(P,{key:e.id,id:e.UserId,name:e.name,mustHave:e.mustHave,location:e.location,price:e.price,averageRating:e.averageRating})}))))};t(105);var L=function(e){return l.a.createElement("div",{className:"col s12"},l.a.createElement("ul",{className:"collection"},l.a.createElement("a",{href:"#!",className:"collection-item",onClick:e.onClick,id:e.id},e.name)))};var A=function(){var e=Object(n.useContext)(p).user,a=Object(n.useState)([]),t=Object(d.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)([]),i=Object(d.a)(s,2),o=i[0],m=i[1],u=Object(n.useState)([]),v=Object(d.a)(u,2),f=v[0],E=v[1],g=Object(n.useState)([]),h=Object(d.a)(g,2),b=h[0],N=h[1];Object(n.useEffect)(function(){fetch("/api/restaurant").then(function(e){return e.json()}).then(function(e){c(e),E(e),N(e)}),fetch("/api/restaurant/category").then(function(e){return e.json()}).then(function(e){m(e)})},[]);var w=function(e){try{e.preventDefault();var a=r.filter(function(a){return a.CuisineId===parseInt(e.target.id)});E(a)}catch(t){console.log(t)}};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row rstlist"},l.a.createElement("div",{className:"col s12 m10 l4"},l.a.createElement("div",null,l.a.createElement(k,{fullname:e.dataValues.fullName}),l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){try{e.preventDefault();var a=r.filter(function(e){return e.name.toUpperCase()===b.toUpperCase()});E(a)}catch(t){console.log(t)}}},l.a.createElement("div",{className:"input-field"},l.a.createElement("input",{type:"search",required:!0,id:b,placeholder:"Search",onChange:function(e){return N(e.target.value)}}),l.a.createElement("label",{className:"label-icon",htmlFor:"search"},l.a.createElement("i",{className:"material-icons"},"search"))))),o.map(function(e){return l.a.createElement(L,{key:e.id,name:e.name,id:e.id,onClick:w})}))),l.a.createElement("div",{className:"col s12 m12 l8 center-align"},f.map(function(e){return l.a.createElement(P,{key:e.id,name:e.name,mustHave:e.mustHave,location:e.location,price:e.price,averageRating:e.averageRating})}))))},H=t(137);var V=function(e){return l.a.createElement(H.a,{maxWidth:"lg"},e.children)};t(106);var W=function(){var e=Object(n.useContext)(p),a=e.user,t=e.setUser;return l.a.createElement("div",null,l.a.createElement("nav",{className:"nav-extended"},l.a.createElement("div",{className:"nav-wrapper"},l.a.createElement("ul",{className:"right hide-on-med-and-downXXX"},a?l.a.createElement("div",null,l.a.createElement("li",null,l.a.createElement(s.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/profile"},"Profile")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/logout",onClick:function(e){return t(!1)}},"Logout"))):l.a.createElement("div",null,l.a.createElement("li",null,l.a.createElement(s.b,{to:"/signup"},"Sign up")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/login"},"Log In"))))),l.a.createElement("div",{className:"nav-content"},l.a.createElement("span",{className:"nav-title"},"Let's Taco'bout Food"))))},T=(t(107),t(64));function _(e){var a=e.component,t=Object(T.a)(e,["component"]),r=Object(n.useContext)(p).user;return l.a.createElement(i.b,Object.assign({},t,{render:function(e){return r?l.a.createElement(a,e):l.a.createElement(i.a,{to:"/login"})}}))}var B=function(){return l.a.createElement(v,null,l.a.createElement("div",{className:"App"},l.a.createElement(s.a,null,l.a.createElement(W,null),l.a.createElement("br",null),l.a.createElement(V,null,l.a.createElement(i.b,{exact:!0,path:"/login",component:E}),l.a.createElement(i.b,{exact:!0,path:"/signup",component:N}),l.a.createElement(_,{exact:!0,path:"/profile",component:I}),l.a.createElement(_,{exact:!0,path:"/homepage",component:A}),l.a.createElement(_,{exact:!0,path:"/",component:A}),l.a.createElement(_,{exact:!0,path:"/logout",component:E})))))},M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(l.a.createElement(B,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");M?function(e){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):X(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):X(e)})}}()},57:function(e,a,t){e.exports=t.p+"static/media/user_avatar.0291c308.png"},68:function(e,a,t){e.exports=t(108)},73:function(e,a,t){},96:function(e,a,t){}},[[68,1,2]]]);
//# sourceMappingURL=main.2599f59f.chunk.js.map